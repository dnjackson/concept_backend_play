---
timestamp: 'Sat Oct 11 2025 22:01:15 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251011_220115.7a6c9a76.md]]'
content_id: 58308b8496f47be33ce92d9fe556be9bd06a01ea7c9691948bc21737644854f6
---

# Commenting

Every action should have a comment including its signature, its requirements, and effects:

```typescript
  /**
   * createLabel (name: String): (label: Label)
   *
   * **requires** no Label with the given `name` already exists
   *
   * **effects** creates a new Label `l`; sets the name of `l` to `name`; returns `l` as `label`
   */
```

**concept** LikertSurvey \[User]

**purpose** understand group sentiment on a set of topics by aggregating quantitative feedback

**principle** if an owner creates a survey with several questions and shares it, and multiple users respond to the questions, then the owner can view an aggregated summary of the responses for each question.

**state**

```
a set of Surveys with
    a title String
    an owner User

a set of Questions with
    a stem String
    a survey Survey  -- Links a question to its parent survey

a set of Responses with
    a responder User
    a question Question
    a choice Number
```

**actions**

createSurvey (title: String, owner: User): (survey: Survey)
**requires** title is non-empty
**effects** creates a new `Survey` with the given title and owner and returns it

addQuestion (stem: String, survey: Survey): (question: Question)
**requires** stem is non-empty and survey exists
**effects** creates a new `Question` with the given stem, associates it with the given survey, and returns it

removeQuestion (question: Question)
**requires** question exists
**effects** removes the specified question and all `Response` entities associated with it

respondToQuestion (question: Question, responder: User, choice: Number)
**requires**

* question exists
* choice is an integer between 1 and 5
  **effects**
* deletes any existing response to this question
* creates a new `Response` linking the responder, question, and choice

**queries**

\_getSurveyQuestions (survey: Survey): (questions: set of Question)
**requires** survey exists
**effects** returns the set of all Questions where `Question.survey` is the given survey

\_getQuestionResults (question: Question): (results: map of Number to Number)
**requires** question exists
**effects** returns a map where each key is a choice value (e.g., 1-5) and its value is the count of Responses for this question with that choice
